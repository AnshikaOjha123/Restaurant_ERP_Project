{% extends "base.html" %}
{% load static %}
{% block content %}

<h2>Manager Dashboard</h2>
<div class="card-container">

   <div class="card card-warning">
        <h2>Low Stock Items</h2>
        <ul>
            {% for item in low_stock_items %}
                <li>{{ item.ingredient.name }} - {{ item.quantity }}</li>
            {% empty %}
                <li>All items in stock</li>
            {% endfor %}
        </ul>
    </div>
</div>

<!-- Recent Orders Table -->
<h2>Recent Orders</h2>
<table class="recent-orders">
    <thead>
        <tr>
            <th>Order ID</th>
            <th>Customer</th>
            <th>Total Price</th>
            <th>Status</th>
        </tr>
    </thead>
    <tbody>
        {% for order in recent_orders %}
        <tr>
            <td>{{ order.id }}</td>
            <td>{{ order.customer|default:"Guest" }}</td>
            <td>${{ order.total_price }}</td>
            <td>{{ order.status|capfirst }}</td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="4">No recent orders</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}